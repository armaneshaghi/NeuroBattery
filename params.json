{"name":"NeuroBattery","tagline":"Smashing through the boundaries - of current neuroimage analysis limitations","body":"NeuroBattery\r\n============\r\n\r\nHere we provide a working example that illustrates the use of Advanced Normalization Tools ([ANTs](https://github.com/stnava/ANTs)) to process multiple MR image types for a single subject. We provide and example input data for a single subject for which a battery of 5 different images were acquired in a single scanning session: \r\n\r\n1. T1 (MPRAGE)\r\n2. pseudo continuous arterial spin labeling (PCASL)\r\n3. diffusion weighted/tensor\r\n4. magnetization transfer\r\n5. resting state BOLD\r\n\r\nAdditionally we provide a template and associated labels & priors that we use as an anatomical basis for processing as well as a set of verified output image to ensure that your version is working correctly. The general concept is to use the anatomical information in the T1 images as a spatial frame-of-refenece. Accoringly we find a spatial mapping between each subject's T1 image and the T1 template. Later, for additional MR images, we will perform intrasubject alignment to the T1 allowing for mapping to template space by composing multiple transforms and retaining the concept of relying on the T1 images for anatomical referenence for both intra and inter subject exploration of the data. After aligning the T1 image to the template we generate various images relating to anatomical properties of the brain. \r\n\r\nT1 (MPRAGE) image processing\r\n------------------------\r\nHere are some sample slices from the provided T1 input data (`data/input/PEDS012/20121031/Anatomy/PEDS012_20121031_mprage_t1.nii.gz`)\r\n\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/input_t1_axial.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/input_t1_sagittal.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/input_t1_coronal.png?raw=true)\r\n\r\nAnd here are some sample slices from the provided T1 template that will be used as an anatomical reference (`data/template/T_template.nii.gz`)\r\n\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_axial.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_sagittal.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_coronal.png?raw=true)\r\n\r\nA brainmask of the template will help extract the brain from the input (`data/template/T_templateProbabilityMask.nii.gz`)\r\n\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_mask_axial.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_mask_sagittal.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_mask_coronal.png?raw=true)\r\n\r\nAnd tissue priors in the template will help segment the input data. Red=CSF, Green=Cortex, Blue=White matter, and Yellow=Deep gray matter (`data/template/Priors/priors%d.nii.gz`)\r\n\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_prior_axial.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_prior_sagittal.png?raw=true)\r\n![Full C](https://github.com/jeffduda/NeuroBattery/blob/master/figures/template_t1_prior_coronal.png?raw=true)\r\n\r\nThese images, along with provided masks and priors will be used to generate a number of useful outputs, including:\r\n\r\n1. Bias corrected version of input image via N4\r\n2. Brain extraction mask (cerebrum)\r\n3. 4-tissue segmentation (CSF,white matter, cortex, and deep gray matter)\r\n4. Cortical thickness\r\n5. Spatial transform to template space (and inverse transform)\r\n\r\nIn the script directory, `process_t1.sh` provides an example call to `antsCorticalThickness.sh` which is used to achieve the steps listed above. The full command is:\r\n> sh  antsCorticalThickness.sh -d 3 \\  \r\n>    -a ../data/input/PEDS012/20121031/Anatomy/PEDS012_20121031_mprage_t1.nii.gz \\  \r\n>    -e ../data/template/T_template.nii.gz \\  \r\n>    -m ../data/template/T_templateProbabilityMask.nii.gz \\  \r\n>    -p ../data/template/Priors/priors%d.nii.gz \\  \r\n>    -t ../data/template/T_template.nii.gz \\  \r\n>    -k 1 \\  \r\n>    -n 3 \\  \r\n>    -w 0.25 \\  \r\n>    -o ../data/output/PEDS012/20121031/PEDS012_20121031_  \r\n\r\nHaving processed the T1 image, we want to continue to use this data as our anatomical frame-of-reference. The processing of the additional data will all follow a similar pattern:\r\n\r\n1. Initial preprocessing to obtain a derived scalar image with relevant anatomical detail\r\n2. Alignment of the derived scalar to the T1 data\r\n3. Propogation of relevant labels, such as the brain mask, etc.\r\n4. Quantification of modality specific metrics of interest.\r\n\r\nDiffusion weighted image processing\r\n-------------------------------\r\n\r\nPseudo continuous arterial spin labeling (PCASL) image processing\r\n----------------------------------\r\n\r\nResting BOLD fMRI processing\r\n----------------------------\r\n\r\nMagnetization transfer processing\r\n------------------------------\r\n\r\n\r\n\r\n\r\n**Whipping up a fury, Dominating flurry**\r\n\r\n**We create the Battery**\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}